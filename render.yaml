services:
  - type: web
    name: phonebook-backend
    runtime: java
    plan: free
    buildCommand: ./gradlew clean build
    startCommand: java -jar build/libs/phonebook.jar
    envVars:
      - key: PORT
        value: 10000
      - key: JWT_SECRET
        value: "A1B2C3D4E5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9T0U1V2W3"
      - key: SUPERADMIN_USERNAME
        value: "superadmin"
      - key: SUPERADMIN_PASSWORD
        value: "AdminaSecure123!"
    healthCheckPath: /
    autoDeploy: true

databases:
  - name: phonebook-db
    plan: free